import{c as ge,b6 as Le,b7 as Ve,b8 as be,av as z,j as e,b9 as ve,ba as $e,bb as He,bc as Ge,bd as je,be as Ke,bf as Be,bg as De,bh as Qe,r as x,ar as ie,bi as Ue,bj as Je,bk as Ze,C as $,bl as We,aQ as Q,B as T,b4 as Xe,S as R,m as q,n as M,p as O,q as y,aL as Ye,aM as ea,aN as aa,aK as S,I as F,bm as sa,bn as me,bo as ra,bp as ta,bq as na,br as ia,bs as la,bt as oa,bu as da,bv as ca,bw as ma,f as B,aS as ua,ab as pa,ac as ha,ad as xa,ae as fa,b5 as ga,b as Z,d as W,a6 as D,aV as _e,aH as X,aW as ye,x as H,bx as L,by as ue,bz as pe,u as ba,bA as va,bB as ja,aY as _a,aI as ya,a2 as Na,a3 as Ca,a4 as se,a5 as re,G as wa,e as te,H as he,bC as Sa}from"./index-DebmrVr5.js";import{u as Ea,a as Ta,T as Pa,S as za,M as Aa}from"./theme-toggle-ChhbzSBS.js";import{R as Ia}from"./refresh-cw-XJNswtV8.js";import{S as ka}from"./square-pen-DWZLd2w9.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ge("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var A="Accordion",qa=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[le,Ma,Oa]=Le(A),[ee,ns]=Ve(A,[Oa,be]),oe=be(),Ne=z.forwardRef((a,r)=>{const{type:o,...t}=a,p=t,m=t;return e.jsx(le.Provider,{scope:a.__scopeAccordion,children:o==="multiple"?e.jsx($a,{...m,ref:r}):e.jsx(Va,{...p,ref:r})})});Ne.displayName=A;var[Ce,Fa]=ee(A),[we,La]=ee(A,{collapsible:!1}),Va=z.forwardRef((a,r)=>{const{value:o,defaultValue:t,onValueChange:p=()=>{},collapsible:m=!1,...f}=a,[b,h]=ve({prop:o,defaultProp:t??"",onChange:p,caller:A});return e.jsx(Ce,{scope:a.__scopeAccordion,value:z.useMemo(()=>b?[b]:[],[b]),onItemOpen:h,onItemClose:z.useCallback(()=>m&&h(""),[m,h]),children:e.jsx(we,{scope:a.__scopeAccordion,collapsible:m,children:e.jsx(Se,{...f,ref:r})})})}),$a=z.forwardRef((a,r)=>{const{value:o,defaultValue:t,onValueChange:p=()=>{},...m}=a,[f,b]=ve({prop:o,defaultProp:t??[],onChange:p,caller:A}),h=z.useCallback(N=>b((E=[])=>[...E,N]),[b]),w=z.useCallback(N=>b((E=[])=>E.filter(_=>_!==N)),[b]);return e.jsx(Ce,{scope:a.__scopeAccordion,value:f,onItemOpen:h,onItemClose:w,children:e.jsx(we,{scope:a.__scopeAccordion,collapsible:!0,children:e.jsx(Se,{...m,ref:r})})})}),[Ha,ae]=ee(A),Se=z.forwardRef((a,r)=>{const{__scopeAccordion:o,disabled:t,dir:p,orientation:m="vertical",...f}=a,b=z.useRef(null),h=$e(b,r),w=Ma(o),E=He(p)==="ltr",_=Ge(a.onKeyDown,C=>{var I;if(!qa.includes(C.key))return;const P=C.target,v=w().filter(G=>{var U;return!((U=G.ref.current)!=null&&U.disabled)}),u=v.findIndex(G=>G.ref.current===P),n=v.length;if(u===-1)return;C.preventDefault();let l=u;const s=0,d=n-1,i=()=>{l=u+1,l>d&&(l=s)},c=()=>{l=u-1,l<s&&(l=d)};switch(C.key){case"Home":l=s;break;case"End":l=d;break;case"ArrowRight":m==="horizontal"&&(E?i():c());break;case"ArrowDown":m==="vertical"&&i();break;case"ArrowLeft":m==="horizontal"&&(E?c():i());break;case"ArrowUp":m==="vertical"&&c();break}const g=l%n;(I=v[g].ref.current)==null||I.focus()});return e.jsx(Ha,{scope:o,disabled:t,direction:p,orientation:m,children:e.jsx(le.Slot,{scope:o,children:e.jsx(je.div,{...f,"data-orientation":m,ref:h,onKeyDown:t?void 0:_})})})}),Y="AccordionItem",[Ga,de]=ee(Y),Ee=z.forwardRef((a,r)=>{const{__scopeAccordion:o,value:t,...p}=a,m=ae(Y,o),f=Fa(Y,o),b=oe(o),h=Ke(),w=t&&f.value.includes(t)||!1,N=m.disabled||a.disabled;return e.jsx(Ga,{scope:o,open:w,disabled:N,triggerId:h,children:e.jsx(Be,{"data-orientation":m.orientation,"data-state":ke(w),...b,...p,ref:r,disabled:N,open:w,onOpenChange:E=>{E?f.onItemOpen(t):f.onItemClose(t)}})})});Ee.displayName=Y;var Te="AccordionHeader",Pe=z.forwardRef((a,r)=>{const{__scopeAccordion:o,...t}=a,p=ae(A,o),m=de(Te,o);return e.jsx(je.h3,{"data-orientation":p.orientation,"data-state":ke(m.open),"data-disabled":m.disabled?"":void 0,...t,ref:r})});Pe.displayName=Te;var ne="AccordionTrigger",ze=z.forwardRef((a,r)=>{const{__scopeAccordion:o,...t}=a,p=ae(A,o),m=de(ne,o),f=La(ne,o),b=oe(o);return e.jsx(le.ItemSlot,{scope:o,children:e.jsx(De,{"aria-disabled":m.open&&!f.collapsible||void 0,"data-orientation":p.orientation,id:m.triggerId,...b,...t,ref:r})})});ze.displayName=ne;var Ae="AccordionContent",Ie=z.forwardRef((a,r)=>{const{__scopeAccordion:o,...t}=a,p=ae(A,o),m=de(Ae,o),f=oe(o);return e.jsx(Qe,{role:"region","aria-labelledby":m.triggerId,"data-orientation":p.orientation,...f,...t,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...a.style}})});Ie.displayName=Ae;function ke(a){return a?"open":"closed"}var Ka=Ne,Ba=Ee,Da=Pe,Re=ze,qe=Ie;const Qa=Ka,Me=x.forwardRef(({className:a,...r},o)=>e.jsx(Ba,{ref:o,className:ie("border-b",a),...r}));Me.displayName="AccordionItem";const Oe=x.forwardRef(({className:a,children:r,...o},t)=>e.jsx(Da,{className:"flex",children:e.jsxs(Re,{ref:t,className:ie("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...o,children:[r,e.jsx(Ue,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Oe.displayName=Re.displayName;const Fe=x.forwardRef(({className:a,children:r,...o},t)=>e.jsx(qe,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:e.jsx("div",{className:ie("pb-4 pt-0",a),children:r})}));Fe.displayName=qe.displayName;const Ua=x.forwardRef(function({element:r,onUpdate:o,onRemove:t,disableRemove:p=!1,disableVisibilityToggle:m=!1,isHighlighted:f=!1},b){const h=x.useRef(null),{attributes:w,listeners:N,setNodeRef:E,transform:_,transition:C,isDragging:P}=Je({id:r.id});x.useImperativeHandle(b,()=>({scrollIntoView:()=>{var l;(l=h.current)==null||l.scrollIntoView({behavior:"smooth",block:"center"})}}));const v={transform:Ze.Transform.toString(_),transition:C,opacity:P?.5:1},u={small:"P",medium:"M",large:"G",xlarge:"GG"},n={left:"←",center:"↔",right:"→"};return e.jsx("div",{ref:E,style:v,children:e.jsx("div",{ref:h,children:e.jsx($,{className:`p-1 mb-1 transition-all ${f?"ring-2 ring-primary bg-primary/5 animate-pulse":""}`,children:e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx("button",{className:"cursor-grab active:cursor-grabbing mt-0.5 text-muted-foreground hover:text-foreground",...w,...N,children:e.jsx(We,{className:"h-3.5 w-3.5"})}),e.jsxs("div",{className:"flex-1 space-y-0.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[e.jsx(Q,{className:"scale-[0.6]",checked:r.visible,onCheckedChange:l=>o({visible:l}),disabled:m}),e.jsxs("span",{className:"font-medium text-[9px]",children:[r.order,". ",r.label]}),e.jsx("code",{className:"text-[8px] bg-muted px-0.5 py-0.5 rounded",children:r.tag})]}),!p&&e.jsx(T,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-5 w-5 p-0",onClick:t,children:e.jsx(Xe,{className:"h-2.5 w-2.5"})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-0.5",children:[e.jsxs(R,{value:r.fontSize,onValueChange:l=>o({fontSize:l}),children:[e.jsx(q,{className:"h-5 text-[9px] py-0",children:e.jsx(M,{})}),e.jsx(O,{children:Object.entries(u).map(([l,s])=>e.jsx(y,{value:l,className:"text-xs",children:s},l))})]}),e.jsxs(R,{value:r.formatting.align,onValueChange:l=>o({formatting:{...r.formatting,align:l}}),children:[e.jsx(q,{className:"h-5 text-[9px] py-0",children:e.jsx(M,{})}),e.jsx(O,{children:Object.entries(n).map(([l,s])=>e.jsx(y,{value:l,className:"text-xs",children:s},l))})]}),e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx(T,{variant:r.formatting.bold?"default":"outline",size:"sm",className:"h-5 w-full font-bold text-[9px] p-0",onClick:()=>o({formatting:{...r.formatting,bold:!r.formatting.bold}}),children:"B"}),e.jsx(T,{variant:r.formatting.underline?"default":"outline",size:"sm",className:"h-5 w-full underline text-[9px] p-0",onClick:()=>o({formatting:{...r.formatting,underline:!r.formatting.underline}}),children:"U"})]}),e.jsxs(Ye,{children:[e.jsx(ea,{asChild:!0,children:e.jsx(T,{variant:r.prefix||r.suffix?"default":"outline",size:"sm",className:"h-5 text-[9px] p-0",children:e.jsx(Ra,{className:"h-2.5 w-2.5"})})}),e.jsx(aa,{className:"w-64 p-3",side:"right",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{className:"text-xs",children:"Texto Antes"}),e.jsx(F,{value:r.prefix||"",onChange:l=>o({prefix:l.target.value}),placeholder:"Ex: Tel: ",className:"h-7 text-xs"}),e.jsx(S,{className:"text-xs",children:"Texto Depois"}),e.jsx(F,{value:r.suffix||"",onChange:l=>o({suffix:l.target.value}),placeholder:"Ex: (WhatsApp)",className:"h-7 text-xs"})]})})]}),e.jsxs(R,{value:r.separator_below.show?r.separator_below.char:"none",onValueChange:l=>{o(l==="none"?{separator_below:{...r.separator_below,show:!1}}:{separator_below:{show:!0,type:"line",char:l}})},children:[e.jsx(q,{className:"h-5 text-[9px] py-0",children:e.jsx(M,{placeholder:"Sep"})}),e.jsxs(O,{children:[e.jsx(y,{value:"none",className:"text-xs",children:"Sem"}),e.jsx(y,{value:"-",className:"text-xs",children:"-"}),e.jsx(y,{value:"=",className:"text-xs",children:"="}),e.jsx(y,{value:".",className:"text-xs",children:"."})]})]})]})]})]})})})})}),V={elements:[],header:{elements:[{id:"nome_empresa",tag:"{nome_empresa}",label:"Nome da Empresa",visible:!0,fontSize:"large",formatting:{bold:!0,underline:!1,align:"center"},order:0},{id:"telefone_empresa",tag:"{telefone_empresa}",label:"Telefone Empresa",visible:!0,fontSize:"medium",formatting:{bold:!1,underline:!1,align:"center"},order:1},{id:"endereco_empresa",tag:"{endereco_empresa}",label:"Endereço Empresa",visible:!0,fontSize:"small",formatting:{bold:!1,underline:!1,align:"center"},order:2}],separator:{show:!0,type:"equals",char:"="}},body:{elements:[{id:"numero_pedido",tag:"{numero_pedido}",label:"Número do Pedido",visible:!0,fontSize:"xlarge",formatting:{bold:!0,underline:!1,align:"center"},order:0},{id:"data_hora",tag:"{data_hora}",label:"Data e Hora",visible:!0,fontSize:"medium",formatting:{bold:!1,underline:!1,align:"center"},order:1},{id:"tipo_entrega",tag:"{tipo_entrega}",label:"Tipo de Entrega",visible:!0,fontSize:"medium",formatting:{bold:!0,underline:!1,align:"center"},order:2},{id:"nome_cliente",tag:"{nome_cliente}",label:"Nome do Cliente",visible:!0,fontSize:"medium",formatting:{bold:!0,underline:!1,align:"left"},order:3},{id:"telefone_cliente",tag:"{telefone_cliente}",label:"Telefone do Cliente",visible:!0,fontSize:"medium",formatting:{bold:!1,underline:!1,align:"left"},order:4},{id:"endereco_cliente",tag:"{endereco_cliente}",label:"Endereço do Cliente",visible:!0,fontSize:"small",formatting:{bold:!1,underline:!1,align:"left"},order:5},{id:"itens",tag:"{itens}",label:"Itens do Pedido",visible:!0,fontSize:"medium",formatting:{bold:!1,underline:!1,align:"left"},order:6}],separator:{show:!0,type:"line",char:"-"}},footer:{elements:[{id:"mensagem_rodape",tag:"{mensagem_rodape}",label:"Mensagem de Rodapé",visible:!0,fontSize:"medium",formatting:{bold:!1,underline:!1,align:"center"},order:0}],separator:{show:!0,type:"line",char:"-"}},paper_width:"80mm",chars_per_line:48,allow_custom_chars_per_line:!1,font_sizes:{header:"medium",order_number:"xlarge",item_name:"medium",item_details:"normal",totals:"large"},formatting:{header:{bold:!0,underline:!1,align:"center"},order_number:{bold:!0,underline:!1,align:"center"},customer_info:{bold:!1,underline:!1,align:"left"},items:{bold:!0,underline:!1,align:"left"},item_details:{bold:!1,underline:!1,align:"left"},totals:{bold:!0,underline:!1,align:"left"},footer:{bold:!1,underline:!1,align:"center"}},show_company_logo:!0,show_company_address:!0,show_company_phone:!0,show_order_source:!0,show_customer_info:!0,show_customer_address:!0,show_item_observations:!0,show_order_observations:!0,show_payment_method:!0,show_footer_message:!0,footer_message:"Obrigado pela preferência!",line_spacing:"normal",cut_paper:!0,extra_feed_lines:4,item_quantity_format:"2x",item_price_position:"next_line",item_extras_prefix:"+ ",item_observations_prefix:"Obs: ",show_item_extras:!0,show_subtotal:!0,show_delivery_fee:!0,encoding:"UTF-8",margin_left:0,margin_right:0},J={"{nome_empresa}":{label:"Nome Empresa",icon:"🏢",category:"header"},"{logo}":{label:"Logo Empresa",icon:"🖼️",category:"header"},"{telefone_empresa}":{label:"Telefone Empresa",icon:"📞",category:"header"},"{endereco_empresa}":{label:"Endereço Empresa",icon:"📍",category:"header"},"{email_empresa}":{label:"Email Empresa",icon:"📧",category:"header"},"{cnpj}":{label:"CNPJ",icon:"🏛️",category:"header"},"{numero_pedido}":{label:"Número do Pedido",icon:"🔢",category:"body"},"{data_hora}":{label:"Data e Hora",icon:"📅",category:"body"},"{origem_pedido}":{label:"Origem do Pedido",icon:"📱",category:"body"},"{tipo_entrega}":{label:"Tipo de Entrega",icon:"🚚",category:"body"},"{nome_cliente}":{label:"Nome Cliente",icon:"👤",category:"body"},"{telefone_cliente}":{label:"Telefone Cliente",icon:"📞",category:"body"},"{endereco_cliente}":{label:"Endereço Cliente",icon:"🏠",category:"body"},"{referencia}":{label:"Ponto de Referência",icon:"📌",category:"body"},"{itens}":{label:"Itens do Pedido",icon:"🛒",category:"body"},"{observacoes_item}":{label:"Observações do Item",icon:"📝",category:"body"},"{observacoes_pedido}":{label:"Observações do Pedido",icon:"💬",category:"body"},"{subtotal}":{label:"Subtotal",icon:"💵",category:"body"},"{taxa_entrega}":{label:"Taxa de Entrega",icon:"🚚",category:"body"},"{total}":{label:"Total",icon:"💰",category:"body"},"{forma_pagamento}":{label:"Forma de Pagamento",icon:"💳",category:"body"},"{mensagem_rodape}":{label:"Mensagem de Rodapé",icon:"✉️",category:"footer"}};function Ja({config:a,onChange:r,highlightedFieldId:o}){const t=sa(me(na),me(ta,{coordinateGetter:ra})),p=x.useRef({}),[m,f]=x.useState(!1);x.useEffect(()=>{o&&p.current[o]&&!m&&(f(!0),setTimeout(()=>{var n;(n=p.current[o])==null||n.scrollIntoView(),setTimeout(()=>f(!1),1e3)},100))},[o,m]);const h=(()=>{if(a.elements&&a.elements.length>0)return a.elements;const n=[];let l=1;return a.header.elements.forEach(s=>{n.push({...s,order:l++,separator_below:{show:!1,type:"line",char:"-"}})}),a.header.separator.show&&n.length>0&&(n[n.length-1].separator_below=a.header.separator),a.body.elements.forEach(s=>{n.push({...s,order:l++,separator_below:{show:!1,type:"line",char:"-"}})}),a.body.separator.show&&n.length>0&&(n[n.length-1].separator_below=a.body.separator),a.footer.elements.forEach(s=>{n.push({...s,order:l++,separator_below:{show:!1,type:"line",char:"-"}})}),n})(),w=n=>{const{active:l,over:s}=n;if(s&&l.id!==s.id){const d=h.findIndex(g=>g.id===l.id),i=h.findIndex(g=>g.id===s.id),c=ca(h,d,i).map((g,I)=>({...g,order:I+1}));r({...a,elements:c})}},N=(n,l)=>{const s=h.map(d=>d.id===n?{...d,...l}:d);r({...a,elements:s})},E=n=>{const l=h.filter(s=>s.id!==n).map((s,d)=>({...s,order:d+1}));r({...a,elements:l})},_=Object.keys(J),C=h.map(n=>n.tag),P=_.filter(n=>!C.includes(n)),v=n=>{const l=J[n],s={id:`field_${Date.now()}`,tag:n,label:l.label,visible:!0,order:h.length+1,formatting:{bold:!1,underline:!1,align:"left"},fontSize:"medium",separator_below:{show:!1,type:"line",char:"-"}};r({...a,elements:[...h,s]})};if(!h.some(n=>n.tag==="{itens}")&&h.length>0){const l={id:"items_field",tag:"{itens}",label:J["{itens}"].label,visible:!0,order:h.length+1,formatting:{bold:!1,underline:!1,align:"left"},fontSize:"medium",separator_below:{show:!1,type:"line",char:"-"}};r({...a,elements:[...h,l]})}return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Campos do Cupom"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Arraste para reordenar os campos na impressão"})]}),e.jsx(ia,{sensors:t,collisionDetection:la,onDragEnd:w,children:e.jsx(oa,{items:h.map(n=>n.id),strategy:da,children:e.jsx("div",{className:"space-y-2",children:h.sort((n,l)=>n.order-l.order).map(n=>e.jsx(Ua,{ref:l=>{p.current[n.id]=l},element:n,onUpdate:l=>{n.tag==="{itens}"&&l.visible===!1||N(n.id,l)},onRemove:()=>{n.tag!=="{itens}"&&E(n.id)},disableRemove:n.tag==="{itens}",disableVisibilityToggle:n.tag==="{itens}",isHighlighted:o===n.id},n.id))})})}),P.length>0&&e.jsx("div",{className:"pt-4 border-t",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(R,{onValueChange:n=>v(n),children:[e.jsx(q,{className:"w-full",children:e.jsx(M,{placeholder:"Adicionar novo campo..."})}),e.jsx(O,{children:P.map(n=>{const l=J[n];return e.jsx(y,{value:n,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:l.icon}),e.jsx("span",{children:l.label})]})},n)})})]})})})]})}const k={order_number:"001",created_at:new Date,type:"delivery",source:"whatsapp",customer_name:"João Silva",customer_phone:"(11) 98765-4321",address:"Rua das Flores, 123 - Centro",referencia:"Próximo à padaria",items:[{quantity:2,name:"Pizza Margherita G",price:45,extras:[{name:"Borda recheada"},{name:"Catupiry extra"}],observations:"Sem cebola"},{quantity:1,name:"Refrigerante 2L",price:8,extras:[],observations:""},{quantity:3,name:"Pastel de Carne",price:5,extras:[{name:"Com queijo"}],observations:""}],delivery_fee:5,total:113,payment_method:"Dinheiro",observations:"Entregar na portaria",company_name:"EMPRESA EXEMPLO",company_phone:"(11) 1234-5678",company_address:"Endereço de exemplo",company_email:"contato@empresa.com.br"};function Za({config:a,companyData:r,onTestPrint:o}){var m;const t={...k,company_name:(r==null?void 0:r.fantasy_name)||(r==null?void 0:r.name)||k.company_name,company_phone:(r==null?void 0:r.phone)||k.company_phone,company_address:(r==null?void 0:r.address)||k.company_address,company_email:(r==null?void 0:r.email)||k.company_email,company_cnpj:(r==null?void 0:r.cnpj)||void 0};console.log("👁️ ThermalPreview renderizando:",{order_number:t.order_number,customer_name:t.customer_name,items_count:(m=t.items)==null?void 0:m.length,chars_per_line:a.chars_per_line,margin_left:a.margin_left,margin_right:a.margin_right});const p=ma(t,a,r);return console.log("📺 Preview gerou",p.length,"linhas"),e.jsx("div",{className:"space-y-4",children:e.jsx($,{className:"bg-muted/30",children:e.jsxs(B,{className:"p-6",children:[e.jsx("div",{className:"max-h-[calc(100vh-20rem)] overflow-y-auto",children:e.jsx("div",{className:"bg-[#F5E6D3] shadow-lg mx-auto rounded-sm p-4",style:{width:"294px"},children:e.jsx("pre",{className:"font-mono text-[10px] leading-tight whitespace-pre",children:p.join(`
`)})})}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs(T,{onClick:o,variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(ua,{className:"h-4 w-4"}),"Imprimir Teste"]})}),e.jsxs("div",{className:"mt-3 text-xs text-muted-foreground text-center",children:["Preview exibe alinhamento e quebra de linhas.",e.jsx("br",{}),"Negrito/tamanho são aplicados apenas na impressão."]})]})})})}function Wa({open:a,onOpenChange:r,value:o,onChange:t}){const[p,m]=x.useState(o),f=()=>{t(p),r(!1)};return e.jsx(pa,{open:a,onOpenChange:r,children:e.jsxs(ha,{className:"sm:max-w-[500px]",children:[e.jsx(xa,{children:e.jsx(fa,{children:"Editar Mensagem de Rodapé"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ga,{value:p,onChange:b=>m(b.target.value),placeholder:"Digite a mensagem que aparecerá no rodapé do cupom...",className:"min-h-[150px]"}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(T,{onClick:f,children:"Salvar"})]})]})]})})}function j(a,r,o,t={}){return{id:`${a}-${o}`,tag:a,label:r,visible:t.visible??!0,fontSize:t.fontSize??"medium",formatting:{bold:t.bold??!1,underline:t.underline??!1,align:t.align??"left"},order:o,separator_below:{show:t.separatorEnabled??!1,type:"line",char:t.separatorChar??"-"}}}const Xa={complete:{name:"Completo (Caixa)",description:"Layout completo com todas as informações do pedido",elements:[j("{nome_empresa}","Nome da Empresa",0,{fontSize:"large",bold:!0,align:"center"}),j("{telefone_empresa}","Telefone Empresa",1,{fontSize:"medium",align:"center"}),j("{endereco_empresa}","Endereço Empresa",2,{fontSize:"small",align:"center"}),j("{cnpj}","CNPJ",3,{visible:!0,fontSize:"small",align:"center",separatorEnabled:!0,separatorChar:"="}),j("{email_empresa}","Email",4,{visible:!0,fontSize:"small",align:"center"}),j("{numero_pedido}","Número do Pedido",5,{visible:!0,fontSize:"xlarge",bold:!0,align:"center"}),j("{data_hora}","Data e Hora",6,{visible:!0,fontSize:"medium",align:"center"}),j("{origem_pedido}","Origem do Pedido",7,{visible:!0,fontSize:"medium",align:"center"}),j("{tipo_entrega}","Tipo de Entrega",8,{visible:!0,fontSize:"medium",bold:!0,align:"center",separatorEnabled:!0}),j("{nome_cliente}","Nome do Cliente",9,{visible:!0,fontSize:"medium",bold:!0,align:"left"}),j("{telefone_cliente}","Telefone do Cliente",10,{visible:!0,fontSize:"medium",align:"left"}),j("{endereco_cliente}","Endereço do Cliente",11,{visible:!0,fontSize:"small",align:"left"}),j("{referencia}","Ponto de Referência",12,{visible:!0,fontSize:"small",align:"left",separatorEnabled:!0,separatorChar:"="}),j("{itens}","Itens do Pedido",13,{visible:!0,fontSize:"medium",align:"left",separatorEnabled:!0}),j("{observacoes_pedido}","Observações",14,{visible:!0,fontSize:"medium",align:"left",separatorEnabled:!0}),j("{subtotal}","Subtotal",15,{visible:!0,fontSize:"medium",align:"left"}),j("{taxa_entrega}","Taxa de Entrega",16,{visible:!0,fontSize:"medium",align:"left"}),j("{total}","Total",17,{visible:!0,fontSize:"large",bold:!0,align:"left"}),j("{forma_pagamento}","Forma de Pagamento",18,{visible:!0,fontSize:"medium",align:"left",separatorEnabled:!0,separatorChar:"="}),j("{mensagem_rodape}","Mensagem de Rodapé",19,{visible:!0,fontSize:"medium",align:"center",separatorEnabled:!0})]},simplified:{name:"Simplificado (Cozinha/Bar)",description:"Layout simplificado apenas com informações essenciais",elements:[j("{numero_pedido}","Número do Pedido",0,{visible:!0,fontSize:"xlarge",bold:!0,align:"center",separatorEnabled:!0,separatorChar:"="}),j("{data_hora}","Data e Hora",1,{visible:!0,fontSize:"medium",align:"center"}),j("{tipo_entrega}","Tipo de Entrega",2,{visible:!0,fontSize:"medium",bold:!0,align:"center",separatorEnabled:!0}),j("{nome_cliente}","Cliente",3,{visible:!0,fontSize:"medium",bold:!0,align:"left",separatorEnabled:!0}),j("{itens}","Itens do Pedido",4,{visible:!0,fontSize:"medium",align:"left",separatorEnabled:!0,separatorChar:"="}),j("{observacoes_pedido}","Observações",5,{visible:!0,fontSize:"large",bold:!0,align:"left"})]}};function Ya({sector:a,sectorLabel:r,sectorIcon:o,config:t,availablePrinters:p,companyData:m,onConfigChange:f,onTestPrint:b,onSave:h,onRefreshPrinters:w,isTesting:N,isSaving:E}){const[_,C]=x.useState("custom"),[P,v]=x.useState(null),[u,n]=x.useState(!1),l=x.useRef(h);x.useEffect(()=>{l.current=h},[h]);const s=i=>{f({...t,layout:{...t.layout,...i}})},d=i=>{if(C(i),i!=="custom"){const c=Xa[i];c&&f({...t,layout:{...t.layout,elements:c.elements}})}};return x.useEffect(()=>{if(!t.enabled)return;const i=setTimeout(()=>{l.current()},1500);return()=>clearTimeout(i)},[t,t.enabled]),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(W,{className:"flex items-center gap-2",children:[e.jsx("span",{children:o}),r]}),e.jsx(Q,{checked:t.enabled,onCheckedChange:i=>f({...t,enabled:i})})]})}),e.jsxs(B,{className:"grid grid-cols-1 lg:grid-cols-[1fr,500px] gap-6",children:[e.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-14rem)] overflow-y-auto pr-2 scrollbar-thin",children:[e.jsxs("div",{className:"space-y-3 p-3 border rounded-lg bg-muted/30",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Opções de Impressão"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(S,{htmlFor:`template-${a}`,className:"text-xs font-medium",children:"Template Base"}),e.jsxs(R,{value:_,onValueChange:d,disabled:!t.enabled,children:[e.jsx(q,{id:`template-${a}`,className:"h-9",children:e.jsx(M,{placeholder:"Selecione"})}),e.jsxs(O,{children:[e.jsx(y,{value:"complete",children:"📋 Completo"}),e.jsx(y,{value:"simplified",children:"👨‍🍳 Simplificado"}),e.jsx(y,{value:"custom",children:"⚙️ Personalizado"})]})]})]}),e.jsxs("div",{className:"space-y-1.5 lg:col-span-2",children:[e.jsx(S,{htmlFor:`printer-${a}`,className:"text-xs font-medium",children:"Impressora"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(R,{value:t.printer_name,onValueChange:i=>f({...t,printer_name:i}),disabled:!t.enabled,children:[e.jsx(q,{id:`printer-${a}`,className:"flex-1 h-9",children:e.jsx(M,{placeholder:"Selecione a impressora"})}),e.jsx(O,{children:p.length===0?e.jsx(y,{value:"no-printer",disabled:!0,children:"Nenhuma impressora encontrada"}):p.map(i=>e.jsx(y,{value:i,children:i},i))})]}),e.jsx(T,{onClick:w,variant:"outline",size:"icon",disabled:!t.enabled,title:"Buscar impressoras",className:"h-9 w-9 shrink-0",children:e.jsx(Ia,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(S,{htmlFor:`spacing-${a}`,className:"text-xs font-medium",children:"Espaçamento"}),e.jsxs(R,{value:String(t.layout.line_spacing_multiplier||1),onValueChange:i=>s({line_spacing_multiplier:parseFloat(i)}),disabled:!t.enabled,children:[e.jsx(q,{id:`spacing-${a}`,className:"h-9",children:e.jsx(M,{placeholder:"Normal"})}),e.jsxs(O,{children:[e.jsx(y,{value:"0.5",children:"Muito Compacto"}),e.jsx(y,{value:"0.75",children:"Compacto"}),e.jsx(y,{value:"1.0",children:"Normal"}),e.jsx(y,{value:"1.5",children:"Espaçado"}),e.jsx(y,{value:"2.0",children:"Muito Espaçado"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(S,{htmlFor:`copies-${a}`,className:"text-xs font-medium",children:"Nº de Vias"}),e.jsxs(R,{value:String(t.copies),onValueChange:i=>f({...t,copies:parseInt(i)}),disabled:!t.enabled,children:[e.jsx(q,{id:`copies-${a}`,className:"h-9",children:e.jsx(M,{})}),e.jsxs(O,{children:[e.jsx(y,{value:"1",children:"1 via"}),e.jsx(y,{value:"2",children:"2 vias"}),e.jsx(y,{value:"3",children:"3 vias"})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(S,{htmlFor:`margin-left-${a}`,className:"text-xs font-medium",children:"Margem Esq."}),e.jsx(F,{id:`margin-left-${a}`,type:"number",min:"0",max:"20",value:t.layout.margin_left||0,onChange:i=>s({margin_left:parseInt(i.target.value)||0}),disabled:!t.enabled,className:"h-9"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(S,{htmlFor:`margin-right-${a}`,className:"text-xs font-medium",children:"Margem Dir."}),e.jsx(F,{id:`margin-right-${a}`,type:"number",min:"0",max:"20",value:t.layout.margin_right||0,onChange:i=>s({margin_right:parseInt(i.target.value)||0}),disabled:!t.enabled,className:"h-9"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(S,{htmlFor:`extra-feed-${a}`,className:"text-xs font-medium",children:"Linhas Após"}),e.jsx(F,{id:`extra-feed-${a}`,type:"number",min:"0",max:"10",value:t.layout.extra_feed_lines||3,onChange:i=>s({extra_feed_lines:parseInt(i.target.value)||3}),disabled:!t.enabled,className:"h-9"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(S,{htmlFor:`footer-${a}`,className:"text-xs font-medium",children:"Mensagem de Rodapé"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{id:`footer-${a}`,value:t.layout.footer_message||"",onChange:i=>s({footer_message:i.target.value}),placeholder:"Ex: Obrigado pela preferência!",disabled:!t.enabled,className:"flex-1 h-9"}),e.jsx(T,{variant:"outline",size:"icon",onClick:()=>n(!0),disabled:!t.enabled,title:"Abrir editor de mensagem",className:"h-9 w-9 shrink-0",children:e.jsx(ka,{className:"h-4 w-4"})})]})]})]}),e.jsx(Wa,{open:u,onOpenChange:n,value:t.layout.footer_message||"",onChange:i=>s({footer_message:i})}),e.jsx(D,{}),e.jsx(Ja,{config:t.layout,onChange:s,highlightedFieldId:P})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"sticky top-4 max-h-[calc(100vh-8rem)]",children:e.jsx(Za,{config:t.layout,companyData:m,onTestPrint:b})})})]})]})}const fe=["caixa","cozinha_1","cozinha_2","copa_bar"],K={caixa:{label:"Caixa",icon:"💰"},cozinha_1:{label:"Cozinha 1",icon:"👨‍🍳"},cozinha_2:{label:"Cozinha 2",icon:"👩‍🍳"},copa_bar:{label:"Copa/Bar",icon:"🍹"}};function es(){const{companyId:a}=Ea(),r=_e(),[o,t]=x.useState([]),[p,m]=x.useState(!1),[f,b]=x.useState(null),[h,w]=x.useState(null),[N,E]=x.useState({caixa:{enabled:!0,printer_name:"",copies:1,layout:V,cut_type:"partial",text_mode:"normal"},cozinha_1:{enabled:!1,printer_name:"",copies:1,layout:V,cut_type:"partial",text_mode:"normal"},cozinha_2:{enabled:!1,printer_name:"",copies:1,layout:V,cut_type:"partial",text_mode:"normal"},copa_bar:{enabled:!1,printer_name:"",copies:1,layout:V,cut_type:"partial",text_mode:"normal"}}),{data:_}=X({queryKey:["company",a],queryFn:async()=>{const{data:s,error:d}=await H.from("companies").select("name, phone, address").eq("id",a).single();if(d)throw d;return{name:s.name,phone:s.phone?String(s.phone):void 0,address:s.address?String(s.address):void 0}},enabled:!!a}),{data:C}=X({queryKey:["store-settings",a],queryFn:async()=>{const{data:s,error:d}=await H.from("store_settings").select("printer_settings").eq("company_id",a).single();if(d)throw d;return s},enabled:!!a,staleTime:0});x.useEffect(()=>{(async()=>{const d=ue.get();if(d){t(d);return}await P(!1)})()},[]),x.useEffect(()=>{if(!(C!=null&&C.printer_settings))return;const s=C.printer_settings,d={};fe.forEach(i=>{var g,I,G;const c=(g=s.sectors)==null?void 0:g[i];if(c)d[i]={...c,layout:{...V,...c.layout}};else{const U=s[i]||((I=s.printers)==null?void 0:I[i]),ce=(G=s.layout_configs)==null?void 0:G[i];d[i]={enabled:i==="caixa",printer_name:U||"",copies:1,layout:ce?{...V,...ce}:V,cut_type:"partial",text_mode:"normal"}}}),E(d)},[C]);const P=async(s=!0)=>{m(!0);try{const i=await pe.getInstance().getPrinters();t(i),ue.set(i),s&&L.success(`${i.length} impressora(s) encontrada(s)`)}catch(d){console.error("Erro ao buscar impressoras:",d),s&&L.error("Certifique-se que o QZ Tray está aberto e rodando")}finally{m(!1)}},v=ye({mutationFn:async({sector:s,config:d})=>{const i=(C==null?void 0:C.printer_settings)||{},c={...i,auto_print:i.auto_print??!0,sectors:{...i.sectors||{},[s]:d}},{error:g}=await H.from("store_settings").update({printer_settings:c}).eq("company_id",a);if(g)throw g},onSuccess:(s,{sector:d})=>{r.invalidateQueries({queryKey:["store-settings",a]}),L.success(`Configurações do ${K[d].label} salvas!`),w(null)},onError:(s,{sector:d})=>{console.error("Erro ao salvar:",s),L.error(`Erro ao salvar configurações do ${K[d].label}`),w(null)}}),u=async s=>{try{b(s);const d=N[s];if(!d.printer_name){L.error("Selecione uma impressora primeiro");return}const i={...k,company_name:(_==null?void 0:_.name)||k.company_name,company_phone:(_==null?void 0:_.phone)||k.company_phone,company_address:(_==null?void 0:_.address)||k.company_address};console.log("🧪 Teste de impressão usando MOCK_ORDER:",{order_number:i.order_number,customer_name:i.customer_name,items_count:i.items.length});const c=pe.getInstance();await c.connect(),await c.printOrder(i,d.printer_name,!1,s,d.layout,d.copies),L.success("Impressão de teste enviada!")}catch(d){console.error("Erro na impressão de teste:",d),L.error("Erro ao imprimir teste")}finally{b(null)}},n=s=>{w(s),v.mutate({sector:s,config:N[s]})},l=(s,d)=>{E(i=>({...i,[s]:d}))};return e.jsx("div",{className:"space-y-4",children:e.jsx(Qa,{type:"single",collapsible:!0,defaultValue:"caixa",className:"space-y-2",children:fe.map(s=>e.jsxs(Me,{value:s,className:"border rounded-lg",children:[e.jsx(Oe,{className:"px-4 hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:K[s].icon}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:K[s].label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:N[s].enabled?N[s].printer_name||"Nenhuma impressora configurada":"Desativado"})]})]})}),e.jsx(Fe,{className:"px-4 pb-4",children:e.jsx(Ya,{sector:s,sectorLabel:K[s].label,sectorIcon:K[s].icon,config:N[s],availablePrinters:o,companyData:_,onConfigChange:d=>l(s,d),onTestPrint:()=>u(s),onSave:()=>n(s),onRefreshPrinters:()=>P(!0),isTesting:f===s,isSaving:h===s})})]},s))})})}function is(){const{toast:a}=ba(),r=_e(),{theme:o,setTheme:t}=va(),{palette:p,setPalette:m,palettes:f}=ja(),[b,h]=x.useState("general"),[w,N]=x.useState([]),[E,_]=x.useState(!1),[C,P]=x.useState({caixa:"",cozinha1:"",cozinha2:"",copa_bar:""}),{data:v}=X({queryKey:["profile"],queryFn:async()=>{const{data:{user:c}}=await H.auth.getUser();if(!c)throw new Error("User not found");const{data:g,error:I}=await H.from("profiles").select("company_id").eq("id",c.id).single();if(I)throw I;return g}}),{data:u,isLoading:n}=X({queryKey:["store-settings",v==null?void 0:v.company_id],queryFn:async()=>{if(!(v!=null&&v.company_id))return null;const{data:c,error:g}=await H.from("store_settings").select("*").eq("company_id",v.company_id).single();if(g&&g.code!=="PGRST116")throw g;return c||{store_open:!0,auto_accept:!1,sound_enabled:!0,delivery_time:30,pickup_time:45,delivery_fee:5,alert_time:60}},enabled:!!(v!=null&&v.company_id)});x.useEffect(()=>{u!=null&&u.printer_settings&&P({caixa:u.printer_settings.caixa||"",cozinha1:u.printer_settings.cozinha1||"",cozinha2:u.printer_settings.cozinha2||"",copa_bar:u.printer_settings.copa_bar||""})},[u]);const l=x.useRef(!1);x.useEffect(()=>{b==="printer"&&!l.current&&u&&(l.current=!0,s(!1))},[b,u]);const s=async(c=!0)=>{_(!0);try{const g=await _a.getPrinters();N(g),c&&a({title:"Sucesso",description:`${g.length} impressora(s) encontrada(s)`})}catch(g){console.error("Erro ao buscar impressoras:",g),c&&a({title:"Erro",description:"Certifique-se que o QZ Tray está aberto e rodando",variant:"destructive"})}finally{_(!1)}},d=ye({mutationFn:async c=>{if(!(v!=null&&v.company_id))throw new Error("Company ID not found");const{error:g}=await H.from("store_settings").upsert({company_id:v.company_id,...c},{onConflict:"company_id"});if(g)throw g},onSuccess:()=>{r.invalidateQueries({queryKey:["store-settings"]}),a({title:"Sucesso",description:"Configurações atualizadas"})},onError:c=>{console.error("Error updating settings:",c),a({title:"Erro",description:"Erro ao atualizar configurações",variant:"destructive"})}}),i=(c,g)=>{d.mutate({[c]:g})};return e.jsxs("div",{className:"flex flex-col h-screen",children:[e.jsx("header",{className:"bg-card/50 backdrop-blur border-b border-border sticky top-0 z-10",children:e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ya,{className:"lg:hidden"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:"Configurações"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gerencie as configurações do sistema"})]})]}),e.jsx(Ta,{})]})})}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs(Na,{value:b,onValueChange:h,className:"space-y-6",children:[e.jsxs(Ca,{className:"grid grid-cols-3 w-full max-w-4xl",children:[e.jsx(se,{value:"general",children:"Geral"}),e.jsx(se,{value:"appearance",children:"Aparência"}),e.jsx(se,{value:"print",children:"Configurações de Impressão"})]}),e.jsx(re,{value:"general",className:"space-y-6",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(W,{className:"flex items-center gap-2",children:[e.jsx(wa,{className:"h-5 w-5"}),"Configurações da Loja"]}),e.jsx(te,{children:"Configure o funcionamento básico da sua loja"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(S,{htmlFor:"store-open",children:"Loja Aberta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Permite que clientes façam pedidos"})]}),e.jsx(Q,{id:"store-open",checked:u==null?void 0:u.store_open,onCheckedChange:c=>i("store_open",c),disabled:n})]}),e.jsx(D,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(S,{htmlFor:"auto-accept",children:"Aceitar Pedidos Automaticamente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pedidos são aceitos sem aprovação manual"})]}),e.jsx(Q,{id:"auto-accept",checked:u==null?void 0:u.auto_accept,onCheckedChange:c=>i("auto_accept",c),disabled:n})]}),e.jsx(D,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(S,{htmlFor:"pickup-time",children:[e.jsx(he,{className:"inline h-4 w-4 mr-2"}),"Tempo de Retirada (min)"]}),e.jsx(F,{id:"pickup-time",type:"number",value:(u==null?void 0:u.pickup_time)??45,onChange:c=>i("pickup_time",parseInt(c.target.value)||45),disabled:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(S,{htmlFor:"delivery-time",children:[e.jsx(Pa,{className:"inline h-4 w-4 mr-2"}),"Tempo de Entrega (min)"]}),e.jsx(F,{id:"delivery-time",type:"number",value:(u==null?void 0:u.delivery_time)??30,onChange:c=>i("delivery_time",parseInt(c.target.value)||30),disabled:n})]})]}),e.jsx(D,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(S,{htmlFor:"sound-enabled",children:[e.jsx(Sa,{className:"inline h-4 w-4 mr-2"}),"Som de Notificação"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tocar som quando receber novos pedidos"})]}),e.jsx(Q,{id:"sound-enabled",checked:u==null?void 0:u.sound_enabled,onCheckedChange:c=>i("sound_enabled",c),disabled:n})]}),e.jsx(D,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(S,{htmlFor:"delayed-alert",children:[e.jsx(he,{className:"inline h-4 w-4 mr-2"}),"Alerta de Pedidos em Atraso (min)"]}),e.jsxs(R,{value:String((u==null?void 0:u.alert_time)??10),onValueChange:c=>i("alert_time",parseInt(c)),disabled:n,children:[e.jsx(q,{id:"delayed-alert",children:e.jsx(M,{})}),e.jsx(O,{children:[5,10,15,20,30].map(c=>e.jsxs(y,{value:String(c),children:[c," minutos"]},c))})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo em minutos para alertar pedidos em atraso (apenas Em Preparo)"})]})]})]})}),e.jsxs(re,{value:"appearance",className:"space-y-6",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(W,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Tema"]}),e.jsx(te,{children:"Escolha entre tema claro ou escuro"})]}),e.jsx(B,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(S,{children:"Modo de Tema"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(T,{variant:o==="light"?"default":"outline",className:"h-auto flex-col gap-2 p-4",onClick:()=>t("light"),children:[e.jsx(za,{className:"h-6 w-6"}),e.jsx("span",{children:"Claro"})]}),e.jsxs(T,{variant:o==="dark"?"default":"outline",className:"h-auto flex-col gap-2 p-4",onClick:()=>t("dark"),children:[e.jsx(Aa,{className:"h-6 w-6"}),e.jsx("span",{children:"Escuro"})]})]})]})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(W,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Paleta de Cores"]}),e.jsx(te,{children:"Personalize as cores do sistema escolhendo uma paleta"})]}),e.jsx(B,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(S,{children:"Escolha uma Paleta"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxs(T,{variant:p==="purple"?"default":"outline",className:"h-auto flex-col gap-3 p-4",onClick:()=>m("purple"),children:[e.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-purple-500 to-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Roxo"})]}),e.jsxs(T,{variant:p==="blue"?"default":"outline",className:"h-auto flex-col gap-3 p-4",onClick:()=>m("blue"),children:[e.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-blue-500 to-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Azul"})]}),e.jsxs(T,{variant:p==="green"?"default":"outline",className:"h-auto flex-col gap-3 p-4",onClick:()=>m("green"),children:[e.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-green-500 to-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Verde"})]}),e.jsxs(T,{variant:p==="orange"?"default":"outline",className:"h-auto flex-col gap-3 p-4",onClick:()=>m("orange"),children:[e.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-orange-500 to-orange-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Laranja"})]}),e.jsxs(T,{variant:p==="pink"?"default":"outline",className:"h-auto flex-col gap-3 p-4",onClick:()=>m("pink"),children:[e.jsx("div",{className:"w-full h-12 rounded-md bg-gradient-to-br from-pink-500 to-pink-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Rosa"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"A paleta de cores será aplicada em todos os elementos do sistema"})]})})]})]}),e.jsx(re,{value:"print",className:"space-y-6",children:v!=null&&v.company_id?e.jsx(es,{}):e.jsx($,{children:e.jsx(B,{className:"py-10",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Erro ao carregar configurações. Por favor, recarregue a página."})})})})]})})]})}export{is as Settings};

