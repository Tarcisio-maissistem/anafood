import{c as f,J as ke,u as Te,r as c,a as _e,x as U,j as e,N as Me,B as r,O as Le,C as S,b as C,e as k,G as De,f as T,E as P,H as K,P as Fe,I as d,S as Q,m as Z,Q as Pe,n as Y,p as X,q as v,T as ze,d as Ae,V as ee,W as se,Y as Ee,_ as Be,$ as Ie,a0 as Ue,a1 as Oe,a2 as Re,a3 as Ve,a4 as _,a5 as M,a6 as ae,M as $e,a7 as qe,a8 as He,a9 as Je,aa as We,ab as Ge,ac as Ke,ad as Qe,ae as Ze,af as Ye,F as Xe,g as m,h as x,i as h,k as u,l as j,ag as es,ah as ss,o as as,s as p,ai as ts,aj as O,t as rs}from"./index-DebmrVr5.js";import{R as te}from"./refresh-cw-XJNswtV8.js";import{C as ls}from"./calendar-BTswgHqq.js";import{K as ns}from"./key-DN1vjaOJ.js";import{U as is}from"./user-plus-BW64w261.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=f("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=f("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=f("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=f("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=f("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=f("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=f("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=f("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=f("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),ds=as({fullName:p().min(3,"Nome deve ter pelo menos 3 caracteres"),email:p().email("Email inválido"),phone:p().optional(),documentType:p().optional(),documentNumber:p().optional(),state:p().optional(),city:p().optional(),password:p().min(8,"Senha deve ter pelo menos 8 caracteres").optional().or(ts("")),passwordConfirm:p().optional()}).refine(y=>!(y.password&&y.password!==y.passwordConfirm),{message:"As senhas não coincidem",path:["passwordConfirm"]});function fs(){const y=ke(),{toast:o}=Te(),[g,de]=c.useState([]),[me,R]=c.useState(!0),[A,xe]=c.useState(""),[w,he]=c.useState("all"),[t,ue]=c.useState(null),[je,V]=c.useState(!1),[ms,pe]=c.useState(!1),[fe,L]=c.useState(!1),[b,E]=c.useState({}),[$,q]=c.useState(!1),n=_e({resolver:rs(ds),defaultValues:{fullName:"",email:"",phone:"",documentType:"cpf",documentNumber:"",state:"",city:"",password:"",passwordConfirm:""}});c.useEffect(()=>{D()},[]);async function D(){R(!0);try{const{data:s,error:a}=await U.from("companies").select("*").order("created_at",{ascending:!1});if(a)throw a;de(s||[])}catch(s){console.error(s),o({title:"Erro ao carregar lojas",description:"Não foi possível carregar a lista de lojas.",variant:"destructive"})}finally{R(!1)}}const F=c.useMemo(()=>g.filter(s=>{const a=A.trim().toLowerCase();return!(a&&!(s.name.toLowerCase().includes(a)||(s.fantasy_name||"").toLowerCase().includes(a)||(s.cnpj||"").includes(a)||(s.subdomain||"").toLowerCase().includes(a)||(s.email||"").toLowerCase().includes(a))||w!=="all"&&(w==="active"&&!s.is_active||w==="inactive"&&s.is_active||w==="trial"&&s.subscription_status!=="trial"))}),[g,A,w]),N={totalTenants:g.length,activeTenants:g.filter(s=>s.is_active).length,trialTenants:g.filter(s=>s.subscription_status==="trial").length,suspendedTenants:g.filter(s=>!s.is_active).length};function ge(s){E(a=>({...a,[s]:!a[s]}))}function Ne(){const s=!$;q(s);const a={};s&&F.forEach(l=>{a[l.id]=!0}),E(a)}function ve(s){ue(s),V(!0)}async function H(s){o({title:"Acessando como lojista",description:`Entrando na loja ${s.fantasy_name||s.name}...`}),sessionStorage.setItem("admin_return","true"),y("/dashboard")}async function J(s){try{const{error:a}=await U.from("companies").update({is_active:!s.is_active}).eq("id",s.id);if(a)throw a;const l=s.is_active?"desativada":"ativada";o({title:`Loja ${l}`,description:`${s.fantasy_name||s.name} foi ${l} com sucesso.`}),D()}catch{o({title:"Erro ao alterar status",description:"Não foi possível alterar o status da loja.",variant:"destructive"})}}async function B(s){const a=Object.keys(b).filter(l=>b[l]);if(a.length===0){o({title:"Nenhuma loja selecionada",description:"Selecione pelo menos uma loja para executar a ação.",variant:"destructive"});return}if(s==="export"){const l=g.filter(i=>b[i.id]),be=[["Nome","CNPJ","Subdomínio","Email","Telefone","Status","Plano","Criado em"],...l.map(i=>[i.name,i.cnpj,i.subdomain,i.email||"",i.phone||"",i.is_active?"Ativo":"Inativo",i.subscription_status||"",new Date(i.created_at).toLocaleDateString("pt-BR")])].map(i=>i.join(",")).join(`
`),Se=new Blob([be],{type:"text/csv"}),Ce=window.URL.createObjectURL(Se),I=document.createElement("a");I.href=Ce,I.download=`lojas_${new Date().toISOString().split("T")[0]}.csv`,I.click(),o({title:"Exportação concluída",description:`${a.length} lojas exportadas com sucesso.`})}else try{const{error:l}=await U.from("companies").update({is_active:s==="activate"}).in("id",a);if(l)throw l;o({title:`Lojas ${s==="activate"?"ativadas":"suspensas"}`,description:`${a.length} lojas foram ${s==="activate"?"ativadas":"suspensas"} com sucesso.`}),D(),E({}),q(!1)}catch{o({title:"Erro na ação em lote",description:"Não foi possível executar a ação nas lojas selecionadas.",variant:"destructive"})}}async function ye(s){try{console.log("User data:",s),o({title:"Usuário salvo",description:"Os dados do usuário foram salvos com sucesso."}),L(!1),n.reset()}catch{o({title:"Erro ao salvar usuário",description:"Não foi possível salvar os dados do usuário.",variant:"destructive"})}}const we=()=>{sessionStorage.removeItem("admin_return"),o({title:"Logout realizado",description:"Você foi desconectado com sucesso."}),y("/login")},W=s=>s.is_active?s.subscription_status==="trial"?e.jsx(O,{className:"bg-warning/20 text-warning border-warning/30",children:"Trial"}):e.jsx(O,{className:"bg-success/20 text-success border-success/30",children:"Ativa"}):e.jsx(O,{variant:"destructive",children:"Suspensa"}),G=s=>{if(!s)return null;const a=Math.ceil((new Date(s).getTime()-Date.now())/(1e3*60*60*24));return a>0?a:0};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"bg-card/50 backdrop-blur border-b border-border sticky top-0 z-10",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center",children:e.jsx(Me,{className:"w-5 h-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:"AnaFood Master"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Painel Administrativo Central"})]})]}),e.jsxs(r,{variant:"ghost",size:"sm",onClick:we,className:"text-muted-foreground hover:text-foreground",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Sair"]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs(S,{className:"bg-gradient-card border-0 shadow-lg",children:[e.jsx(C,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),"Total de Lojas"]})}),e.jsxs(T,{children:[e.jsx("div",{className:"text-3xl font-bold",children:N.totalTenants}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cadastradas na plataforma"})]})]}),e.jsxs(S,{className:"bg-gradient-card border-0 shadow-lg",children:[e.jsx(C,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-success"}),"Lojas Ativas"]})}),e.jsxs(T,{children:[e.jsx("div",{className:"text-3xl font-bold text-success",children:N.activeTenants}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N.totalTenants>0?Math.round(N.activeTenants/N.totalTenants*100):0,"% do total"]})]})]}),e.jsxs(S,{className:"bg-gradient-card border-0 shadow-lg",children:[e.jsx(C,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-warning"}),"Em Trial"]})}),e.jsxs(T,{children:[e.jsx("div",{className:"text-3xl font-bold text-warning",children:N.trialTenants}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Período de teste"})]})]}),e.jsxs(S,{className:"bg-gradient-card border-0 shadow-lg",children:[e.jsx(C,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-destructive"}),"Suspensas"]})}),e.jsxs(T,{children:[e.jsx("div",{className:"text-3xl font-bold text-destructive",children:N.suspendedTenants}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Necessitam atenção"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[e.jsxs("div",{className:"relative flex-1 sm:max-w-md",children:[e.jsx(Fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(d,{placeholder:"Buscar por nome, CNPJ, subdomínio...",value:A,onChange:s=>xe(s.target.value),className:"pl-9"})]}),e.jsxs(Q,{value:w,onValueChange:he,children:[e.jsxs(Z,{className:"w-[150px]",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),e.jsx(Y,{placeholder:"Filtrar status"})]}),e.jsxs(X,{children:[e.jsx(v,{value:"all",children:"Todas"}),e.jsx(v,{value:"active",children:"Ativas"}),e.jsx(v,{value:"inactive",children:"Suspensas"}),e.jsx(v,{value:"trial",children:"Em Trial"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[Object.values(b).some(s=>s)&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>B("activate"),children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Ativar"]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>B("suspend"),children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Suspender"]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>B("export"),children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),"Exportar"]})]}),e.jsxs(r,{onClick:()=>pe(!0),children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Nova Loja"]})]})]}),e.jsxs(S,{className:"bg-gradient-card border-0 shadow-xl",children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Ae,{children:"Gerenciar Lojas"}),e.jsxs(k,{children:[F.length," de ",g.length," lojas listadas"]})]}),e.jsx(r,{variant:"ghost",size:"sm",onClick:D,children:e.jsx(te,{className:"w-4 h-4"})})]})}),e.jsx(T,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("th",{className:"text-left py-3 px-4",children:e.jsx("button",{onClick:Ne,className:"p-1 hover:bg-muted rounded",children:$?e.jsx(ie,{className:"w-4 h-4"}):e.jsx(ce,{className:"w-4 h-4"})})}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Loja"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Subdomínio"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"CNPJ"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Plano"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Criado em"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Ações"})]})}),e.jsx("tbody",{children:me?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Carregando lojas..."})}):F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Nenhuma loja encontrada"})}):F.map(s=>e.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/20 transition-colors cursor-pointer",onClick:()=>ve(s),children:[e.jsx("td",{className:"py-4 px-4",onClick:a=>a.stopPropagation(),children:e.jsx("button",{onClick:()=>ge(s.id),className:"p-1 hover:bg-muted rounded",children:b[s.id]?e.jsx(ie,{className:"w-4 h-4"}):e.jsx(ce,{className:"w-4 h-4"})})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[s.logo_url?e.jsx("img",{src:s.logo_url,alt:s.name,className:"w-10 h-10 rounded-lg object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(ee,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.fantasy_name||s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("a",{href:`https://${s.subdomain}.anafood.vip`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",onClick:a=>a.stopPropagation(),children:[s.subdomain,".anafood.vip"]})}),e.jsx("td",{className:"py-4 px-4 text-sm font-mono",children:s.cnpj}),e.jsx("td",{className:"py-4 px-4",children:W(s)}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"text-sm",children:[s.subscription_status||"Free",s.subscription_status==="trial"&&s.trial_ends_at&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[G(s.trial_ends_at)," dias restantes"]})]})}),e.jsx("td",{className:"py-4 px-4 text-sm",children:new Date(s.created_at).toLocaleDateString("pt-BR")}),e.jsx("td",{className:"py-4 px-4",onClick:a=>a.stopPropagation(),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>H(s),className:"h-8 px-2",title:"Acessar como lojista",children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>J(s),className:"h-8 px-2",title:s.is_active?"Suspender":"Ativar",children:s.is_active?e.jsx(z,{className:"w-4 h-4 text-destructive"}):e.jsx(P,{className:"w-4 h-4 text-success"})}),e.jsx(r,{size:"sm",variant:"ghost",className:"h-8 px-2",title:"Configurações",children:e.jsx(se,{className:"w-4 h-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(Ee,{open:je,onOpenChange:V,children:e.jsx(Be,{className:"w-full sm:max-w-2xl overflow-y-auto",children:t&&e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{children:[e.jsx(Ue,{children:"Detalhes da Loja"}),e.jsx(Oe,{children:"Informações completas e ações disponíveis"})]}),e.jsxs(Re,{defaultValue:"overview",className:"mt-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(_,{value:"overview",children:"Visão Geral"}),e.jsx(_,{value:"users",children:"Usuários"}),e.jsx(_,{value:"integrations",children:"Integrações"}),e.jsx(_,{value:"financial",children:"Financeiro"}),e.jsx(_,{value:"logs",children:"Logs"})]}),e.jsxs(M,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[t.logo_url?e.jsx("img",{src:t.logo_url,alt:t.name,className:"w-20 h-20 rounded-lg object-cover"}):e.jsx("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(ee,{className:"w-10 h-10 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.fantasy_name||t.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.name}),e.jsx("div",{className:"mt-2",children:W(t)})]})]}),e.jsx(ae,{}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"CNPJ:"}),e.jsx("span",{className:"text-sm font-mono",children:t.cnpj})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Subdomínio:"}),e.jsxs("a",{href:`https://${t.subdomain}.anafood.vip`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:[t.subdomain,".anafood.vip"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Email:"}),e.jsx("span",{className:"text-sm",children:t.email||"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Telefone:"}),e.jsx("span",{className:"text-sm",children:t.phone||"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Criado em:"}),e.jsx("span",{className:"text-sm",children:new Date(t.created_at).toLocaleString("pt-BR")})]}),t.trial_ends_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Trial expira em:"}),e.jsxs("span",{className:"text-sm",children:[new Date(t.trial_ends_at).toLocaleDateString("pt-BR")," (",G(t.trial_ends_at)," dias)"]})]})]}),e.jsx(ae,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Ações Rápidas"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>H(t),children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Impersonate"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Abrir Portal"]}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>J(t),children:t.is_active?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Suspender"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Ativar"]})}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Forçar Sync"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),"Reset Senha"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Configurações"]})]})]})]}),e.jsxs(M,{value:"users",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Usuários da Loja"}),e.jsxs(r,{size:"sm",onClick:()=>L(!0),children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Adicionar"]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Funcionalidade em desenvolvimento"})]}),e.jsxs(M,{value:"integrations",className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Status das Integrações"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(He,{className:"w-5 h-5 text-success"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"WhatsApp"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Evolution API"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-success"}),e.jsx("span",{className:"text-xs text-success",children:"Conectado"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"QZ Tray"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Impressão"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"w-4 h-4 text-destructive"}),e.jsx("span",{className:"text-xs text-destructive",children:"Desconectado"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Je,{className:"w-5 h-5 text-success"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Mercado Pago"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pagamentos"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-success"}),e.jsx("span",{className:"text-xs text-success",children:"Conectado"})]})]})]})]}),e.jsxs(M,{value:"financial",className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Informações Financeiras"}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Plano Atual:"}),e.jsx("span",{className:"text-sm font-medium",children:t.subscription_status||"Free"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Último Pagamento:"}),e.jsx("span",{className:"text-sm",children:"-"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Fatura Pendente:"}),e.jsx("span",{className:"text-sm",children:"Não"})]})]})]}),e.jsxs(M,{value:"logs",className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Últimas Atividades"}),e.jsx(We,{className:"h-[300px]",children:e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(s=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium",children:"Login realizado"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date().toLocaleString("pt-BR")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"IP: 192.168.1.1 | User: admin@loja.com"})]},s))})})]})]})]})})}),e.jsx(Ge,{open:fe,onOpenChange:L,children:e.jsxs(Ke,{className:"sm:max-w-[500px]",children:[e.jsxs(Qe,{children:[e.jsx(Ze,{children:"Cadastrar Usuário"}),e.jsx(Ye,{children:"Adicione um novo usuário responsável pela loja"})]}),e.jsx(Xe,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(ye),className:"space-y-4",children:[e.jsx(m,{control:n.control,name:"fullName",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Nome Completo"}),e.jsx(u,{children:e.jsx(d,{placeholder:"João da Silva",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:n.control,name:"email",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Email"}),e.jsx(u,{children:e.jsx(d,{type:"email",placeholder:"joao@exemplo.com",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:n.control,name:"phone",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Telefone"}),e.jsx(u,{children:e.jsx(d,{placeholder:"(11) 99999-9999",...s})}),e.jsx(j,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{control:n.control,name:"documentType",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Tipo de Documento"}),e.jsxs(Q,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(u,{children:e.jsx(Z,{children:e.jsx(Y,{placeholder:"Selecione"})})}),e.jsxs(X,{children:[e.jsx(v,{value:"cpf",children:"CPF"}),e.jsx(v,{value:"cnpj",children:"CNPJ"}),e.jsx(v,{value:"other",children:"Outro"})]})]}),e.jsx(j,{})]})}),e.jsx(m,{control:n.control,name:"documentNumber",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Número"}),e.jsx(u,{children:e.jsx(d,{placeholder:"000.000.000-00",...s})}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{control:n.control,name:"state",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Estado"}),e.jsx(u,{children:e.jsx(d,{placeholder:"SP",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:n.control,name:"city",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Cidade"}),e.jsx(u,{children:e.jsx(d,{placeholder:"São Paulo",...s})}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{control:n.control,name:"password",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Senha"}),e.jsx(u,{children:e.jsx(d,{type:"password",placeholder:"********",...s})}),e.jsx(es,{children:"Mínimo 8 caracteres"}),e.jsx(j,{})]})}),e.jsx(m,{control:n.control,name:"passwordConfirm",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Confirmar Senha"}),e.jsx(u,{children:e.jsx(d,{type:"password",placeholder:"********",...s})}),e.jsx(j,{})]})})]}),e.jsxs(ss,{children:[e.jsx(r,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Cancelar"}),e.jsx(r,{type:"submit",children:"Salvar Usuário"})]})]})})]})})]})}export{fs as default};

